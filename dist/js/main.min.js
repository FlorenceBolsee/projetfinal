"use strict";var slidesCount,left,scrollLevel=0,windowWidth=$(window).width(),windowHeight=$(window).height(),footerHeight=$(".info").height(),isMobile=is_mobile(),$body=$(document.body),headerHeight=$(".hero").height(),blockList=[],midnightTarget=$(".burger, .menu__cart");function is_mobile(){return!(!/Mobi/i.test(navigator.userAgent)&&!/Android/i.test(navigator.userAgent))}function headerSizing(){$body.hasClass("homepage")&&($(".hero").css("height",windowHeight),headerHeight=windowHeight-72),windowWidth<480||isMobile?($(".hero__bg").css("display","none"),$(".hero__logo").attr("src","img/logo_mobile.png")):($(".hero__bg").css("display","block"),$(".hero__logo").attr("src","img/logo_big.png"))}function revealList(){blockList=[],$(".reveal").each(function(){left=!!$(this).hasClass("reveal--left"),blockList.push({block:$(this),blockOffset:$(this).offset().top,left:left})})}function swiperSingle(){if(slidesCount=windowWidth<700?1:windowWidth<1e3?2:3,$(".swiperSingle"))new Swiper(".swiperSingle",{slidesPerView:slidesCount,loop:!0,autoplay:{delay:2500,disableOnInteraction:!0},pagination:{el:".swiper-pagination",clickable:!0}})}headerSizing(),$(document).ready(function(){if(revealList(),$(".swiper1"))new Swiper(".swiper1",{slidesPerView:1,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});swiperSingle(),windowWidth<700&&midnightTarget.midnight()});var nav={nav:$(".menu__pages"),hero:$(".hero"),logoLink:$(".menu__link--logo"),logoSrc:"img/logo-mini.svg",burger:$(".burger"),cart:$(".menu__cart"),burgerBarTop:$(".burger__bar--top"),burgerBarBot:$(".burger__bar--bot"),opened:!1,fixed:!1,init:function(e){700<=windowWidth&&!isMobile&&headerHeight<=e?0==this.fixed&&(this.hero.addClass("fixed"),this.fixed=!0):1==this.fixed&&(this.hero.removeClass("fixed"),this.fixed=!1),1080<=windowWidth&&!isMobile&&headerHeight<=e?(this.logoLink.empty(),this.logoLink.append('<img class="menu__logo" src="'+this.logoSrc+'" alt="Home">'),this.logoLink.addClass("image")):(this.logoLink.empty(),this.logoLink.append("Home"),this.logoLink.removeClass("image"))},opening:function(){this.burger.click(function(){this.opened?(this.hero.removeClass("open"),this.opened=!1,$(".burger__bar--top").removeClass("in"),$(".burger__bar--top").stop().animate({top:"7px"},200),$(".burger__bar--bot").removeClass("in"),$(".burger__bar--bot").stop().animate({top:"21px"},200)):(this.hero.addClass("open"),this.opened=!0,$(".burger__bar--top").stop().animate({top:"14px"},300,function(){$(".burger__bar--top").addClass("in")}),$(".burger__bar--bot").stop().animate({top:"14px"},300,function(){$(".burger__bar--bot").addClass("in")}))}.bind(this))}};nav.opening(),nav.init(scrollLevel),$(".block__more").click(function(){$(this).empty(),$(this).hasClass("open")?($(this).append("Read more"),$(this).removeClass("open")):($(this).append("Read less"),$(this).addClass("open")),$(this).closest(".wrapper--exhibitions").find(".block__text--hidden").slideToggle()}),$(window).scroll(_.throttle(function(){scrollLevel=$(this).scrollTop(),nav.init(scrollLevel)},50));var reveal=function(){scrollLevel=$(this).scrollTop(),blockList.forEach(function(e){scrollLevel>e.blockOffset-windowHeight&&(e.block.removeClass("reveal"),e.left?e.block.removeClass("reveal--left"):e.block.removeClass("reveal--right")),0==scrollLevel&&(e.block.addClass("reveal"),e.left?e.block.addClass("reveal--left"):e.block.addClass("reveal--right"))})};window.addEventListener("scroll",_.throttle(reveal,300)),$(window).resize(function(){windowWidth=$(window).width(),windowHeight=$(window).height(),footerHeight=$(".info").height(),headerHeight=$(".hero").height(),midnightTarget=$(".burger, .menu__cart"),nav.init(scrollLevel),headerSizing(),swiperSingle(),revealList(),windowWidth<700&&midnightTarget.midnight()}),(navigator.userAgent.match(/Trident\/7\./)||-1<window.navigator.userAgent.indexOf("Edge"))&&(1260<windowWidth&&$(".block--about1 .wrapper:not(.wrapper--about), .block--about2 .wrapper:not(.wrapper--about)").css("padding-left",0),$("body").on("mousewheel",function(){event.preventDefault();var e=event.wheelDelta,i=window.pageYOffset;window.scrollTo(0,i-e)}));