"use strict";var slidesCount,left,scrollLevel=0,windowWidth=$(window).width(),windowHeight=$(window).height(),footerHeight=$(".info").height(),isMobile=is_mobile(),$squares=[$(".block--last-product .slide__img"),$(".block--last-painting .slide__img"),$(".block--last-product .slide__link"),$(".block--last-painting .slide__link")],$body=$(document.body),headerHeight=$(".hero").height(),blockList=[];function is_mobile(){return!(!/Mobi/i.test(navigator.userAgent)&&!/Android/i.test(navigator.userAgent))}function headerSizing(){$body.hasClass("homepage")&&($(".hero").css("height",windowHeight),headerHeight=windowHeight-72),windowWidth<480||isMobile?($(".hero__bg").css("display","none"),$(".hero__logo").attr("src","img/logo_mobile.png")):($(".hero__bg").css("display","block"),$(".hero__logo").attr("src","img/logo_big.png"))}function squareSizing(){$squares.forEach(function(e){var i=e.width();e.css({height:i}),e.closest(".block__container").css({height:i})})}function revealList(){blockList=[],$(".reveal").each(function(){left=!!$(this).hasClass("reveal--left"),blockList.push({block:$(this),blockOffset:$(this).offset().top,left:left})})}function swiperSingle(){if(slidesCount=windowWidth<700?1:windowWidth<1e3?2:3,$(".swiperSingle"))new Swiper(".swiperSingle",{slidesPerView:slidesCount,loop:!0,autoplay:{delay:2500,disableOnInteraction:!0},pagination:{el:".swiper-pagination",clickable:!0}})}headerSizing(),$(document).ready(function(){if(revealList(),squareSizing(),$(".swiper1"))new Swiper(".swiper1",{slidesPerView:1,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});swiperSingle(),squareSizing()});var nav={nav:$(".menu__pages"),hero:$(".hero"),logoLink:$(".menu__link--logo"),logoSrc:"img/logo-mini.svg",burger:$(".burger"),cart:$(".menu__cart"),burgerBarTop:$(".burger__bar--top"),burgerBarBot:$(".burger__bar--bot"),opened:!1,fixed:!1,init:function(e){windowWidth<700&&e<headerHeight?(this.cart.addClass("white"),this.cart.find("svg").addClass("white")):(this.cart.removeClass("white"),this.cart.find("svg").removeClass("white")),700<=windowWidth&&!isMobile&&headerHeight<=e?0==this.fixed&&(this.hero.addClass("fixed"),this.fixed=!0):1==this.fixed&&(this.hero.removeClass("fixed"),this.fixed=!1),1080<=windowWidth&&!isMobile&&headerHeight<=e?(this.logoLink.empty(),this.logoLink.append('<img class="menu__logo" src="'+this.logoSrc+'" alt="Home">'),this.logoLink.addClass("image")):(this.logoLink.empty(),this.logoLink.append("Home"),this.logoLink.removeClass("image"))},opening:function(){this.burger.click(function(){this.opened?(this.hero.removeClass("open"),this.burger.css("animation",".3s burgerBGback forwards"),this.burgerBarTop.css("animation",".3s burgerBarTopOut forwards"),this.burgerBarBot.css("animation",".3s burgerBarBotOut forwards"),this.opened=!1):(this.hero.addClass("open"),this.burger.css("animation",".3s burgerBGgo forwards"),this.burgerBarTop.css("animation",".6s burgerBarTopIn forwards"),this.burgerBarBot.css("animation",".6s burgerBarBotIn forwards"),this.opened=!0)}.bind(this))}};nav.opening(),nav.init(scrollLevel),$(".block__more").click(function(){$(this).empty(),$(this).hasClass("open")?($(this).append("Read more"),$(this).removeClass("open")):($(this).append("Read less"),$(this).addClass("open")),$(this).closest(".wrapper--exhibitions").find(".block__text--hidden").slideToggle()}),$(window).scroll(_.throttle(function(){scrollLevel=$(this).scrollTop(),nav.init(scrollLevel)},50));var reveal=function(){scrollLevel=$(this).scrollTop(),blockList.forEach(function(e){scrollLevel>e.blockOffset-windowHeight&&(e.block.removeClass("reveal"),e.left?e.block.removeClass("reveal--left"):e.block.removeClass("reveal--right")),0==scrollLevel&&(e.block.addClass("reveal"),e.left?e.block.addClass("reveal--left"):e.block.addClass("reveal--right"))})};window.addEventListener("scroll",_.throttle(reveal,300)),$(window).resize(function(){windowWidth=$(window).width(),windowHeight=$(window).height(),footerHeight=$(".info").height(),headerHeight=$(".hero").height(),nav.init(scrollLevel),headerSizing(),swiperSingle(),squareSizing(),revealList()}),(navigator.userAgent.match(/Trident\/7\./)||-1<window.navigator.userAgent.indexOf("Edge"))&&$("body").on("mousewheel",function(){event.preventDefault();var e=event.wheelDelta,i=window.pageYOffset;window.scrollTo(0,i-e)});